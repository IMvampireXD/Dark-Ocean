{
  "hud_title_text/title_frame": {
    "bindings": [
      {
        "binding_type": "view",
        "source_control_name": "title",
        "source_property_name": "(#text - 'bar:' = #text)",
        "target_property_name": "#visible"
      }
    ]
  },

  "preserved_title": { // it's just an example. you can use it as-is or use your existing code
    "type": "panel",
    "size": [0, 0],
    "$update_string": "bar:",
    "bindings": [
      {
        "binding_name": "#hud_title_text_string"
      },
      {
        "binding_name": "#hud_title_text_string",
        "binding_name_override": "#preserved_text",
        "binding_condition": "visibility_changed"
      },
      {
        "binding_type": "view",
        "source_property_name": "(not (#hud_title_text_string = #preserved_text) and not ((#hud_title_text_string - $update_string) = #hud_title_text_string))",
        "target_property_name": "#visible"
      },
      {
        "binding_type": "view",
        "source_property_name": "((#preserved_text - $update_string) + 0)",
        "target_property_name": "#progress"
      },
      {
        "binding_type": "view",
        "source_property_name": "((#preserved_text - ($update_string + #progress + ',')) + 0)",
        "target_property_name": "#max_value"
      }
    ]
  },


  // usage example. the variables you might need to change are described in the other file :)

  "root_panel": {
    "modifications": [
      {
        "array_name": "controls",
        "operation": "insert_back",
        "value": [
          { "bar_data@hud.preserved_title": {} },
          {
            "temp_bar@animated_bar.animated_progress_bar": {
              "anchor_from": "right_middle",
              "anchor_to": "right_middle",
              "offset": [-10, 0],

              "$background_size": [30, 100],
              "$bar_size": [30, 100],
              "$bar_offset": [1, 0],
              "$bar_texture": "textures/ui/bar_fill",
              "$background_texture": "textures/ui/bar_empty",

              "$texture_type": "fixed",
              "$fill_from": "down",
              "$ignore_trail": true,
              "$multiplier": 0.02, // 1 / 50
              "$data_source": "bar_data",
              "$progress_binding": "#progress",
              "$ignore_text": true
            }
          }
        ]
      }
    ]
  }
}